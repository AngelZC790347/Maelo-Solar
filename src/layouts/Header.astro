<nav class="bg-white fixed top-0 w-full z-30">
  <ul class="flex flex-row flex-wrap justify-center 2xl:justify-between 2xl:w-3/4 m-auto gap-30">
    <li class="list-none">
      <img src="/Vista Logos/logo-transparent-svg.svg" alt="Maelo solar Logo" width="300" />
    </li>
    <ul id="nav" class="uppercase flex-row align-bottom 2xl:gap-16 gap-10 text-dark hidden xl:flex">
      <li data-nav="home" class="current-location">
        <a class="hover:border-primary hover:border-b-2 transition duration-200" href="/"> Home</a>
      </li>
      <li data-nav="about">
        <a class="hover:border-primary hover:border-b-2 transition duration-200" href="#about">
          About Us</a
        >
      </li>
      <li data-nav="contact">
        <a class="hover:border-primary hover:border-b-2 transition duration-200" href="#contact">
          Contact Us</a
        >
      </li>
    </ul>
    <ul class="xl:flex flex-row gap-12 hidden">
      <li><a href="/"><i class="fa-brands fa-facebook"></i></a></li>
      <li><a href="/"><i class="fa-brands fa-instagram"></i></a></li>
      <li><a href="/"><i class="fa-solid fa-envelope"></i></a></li>
    </ul>
  </ul>
</nav>
<style>
  ul li {
    display: flex;
    align-items: center;
  }
  .current-location a {
    border-bottom: 2px solid var(--color-primary);
  }
</style>
<script>
  HTMLElement.prototype.isPartiallyVisible = function () {
    const rect = this.getBoundingClientRect();
    return rect.top < window.innerHeight && rect.bottom > 0;
  };

  HTMLElement.prototype.isFullyVisible = function () {
    const rect = this.getBoundingClientRect();
    return (
      rect.top >= 0 &&
      rect.left >= 0 &&
      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
      rect.right <= (window.innerWidth || document.documentElement.clientWidth)
    );
  };
  document.addEventListener("wheel", function () {
    const nav = document.getElementById("nav");
    const about = document.getElementById("about-step");
    const contact = document.getElementById("message");
    const liAbout = document.querySelector(`li[data-nav="about"]`);
    const liContact = document.querySelector(`li[data-nav="contact"]`);
    if (about!.isPartiallyVisible()) {
      nav?.firstElementChild?.classList.remove("current-location");
      liContact?.classList.remove("current-location");
      liAbout?.classList.add("current-location");
    } else {
      liAbout?.classList.remove("current-location");
      nav?.firstElementChild?.classList.add("current-location");
    }
    if (contact!.isPartiallyVisible()) {
      nav?.firstElementChild?.classList.remove("current-location");
      liAbout?.classList.remove("current-location");
      liContact?.classList.add("current-location");
    } else {
      liContact?.classList.remove("current-location");
      // nav?.firstElementChild?.classList.add("current-location");
    }
  });
</script>
